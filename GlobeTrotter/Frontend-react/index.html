<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlobeTrotter - Itinerary Builder</title>
<nav>
  <a href="index.html">Home</a>
  <a href="routes/timeline.html">Timeline</a>
  <a href="routes/public-itinerary.html">Public Itinerary</a>
  <a href="routes/admin-dashboard.html">Admin Dashboard</a>
  <a href="routes/profile-settings.html">Profile</a>
</nav>

    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f4f4f4;
        }

        h2 { color: #333; }

        /* ===== NEW HEADER ===== */
        .gt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 30px;
            background: linear-gradient(90deg, #2563eb, #4f46e5);
            color: white;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .gt-logo {
            font-size: 26px;
            font-weight: bold;
        }

        .gt-nav button {
            background: white;
            color: #2563eb;
            border: none;
            padding: 10px 18px;
            margin-left: 10px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .gt-nav button:hover {
            transform: scale(1.05);
            background: #e0e7ff;
        }

        /* ===== SECTIONS ===== */
        .section {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .active { display: block; }

        .add-form input, .add-form button {
            padding: 10px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .add-form button {
            background: #28a745;
            color: white;
            cursor: pointer;
        }

        .trip-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .trip-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .trip-card:hover { transform: scale(1.02); }

        .trip-card.selected {
            border: 2px solid #007bff;
        }

        .actions button {
            margin-right: 5px;
            padding: 5px 10px;
            font-size: 12px;
        }

        .delete { background: #dc3545; color: white; }
        .edit, .view { background: #ffc107; color: #000; }

        /* ===== Itinerary Builder ===== */
        .stops-container {
            min-height: 400px;
            border: 2px dashed #ddd;
            padding: 20px;
            border-radius: 8px;
            background: #fafafa;
        }

        .stop {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.1);
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stop.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .stop-header {
            font-weight: bold;
            color: #007bff;
        }

        .stop-dates {
            color: #666;
            font-size: 14px;
        }

        .activity {
            background: #e9f7ef;
            padding: 5px 10px;
            margin: 2px 0;
            border-radius: 4px;
            font-size: 14px;
            display: inline-block;
        }
    </style>
</head>

<body>

    <!-- ‚úÖ NEW HEADER -->
    <header class="gt-header">
        <div class="gt-logo">üåç GlobeTrotter</div>
        <nav class="gt-nav">
            <button onclick="showSection('my-trips')">My Trips</button>
            <button onclick="showSection('itinerary-builder')">Itinerary Builder</button>
        </nav>
    </header>

    <!-- My Trips -->
    <div id="my-trips" class="section active">
        <h2>My Trips</h2>

        <div class="add-form">
            <input id="tripName" placeholder="Trip Name">
            <input id="startDate" type="date">
            <input id="endDate" type="date">
            <input id="destCount" type="number" placeholder="Destinations" min="1">
            <button onclick="addTrip()">Add Trip</button>
        </div>

        <div id="tripsList" class="trip-cards"></div>
    </div>

    <!-- Itinerary Builder -->
    <div id="itinerary-builder" class="section">
        <h2>Build Itinerary</h2>

        <div class="add-form">
            <input id="cityName" placeholder="City">
            <input id="stopStart" type="date">
            <input id="stopEnd" type="date">
            <input id="activityInput" placeholder="Activity">
            <button onclick="addStopToCurrentTrip()">Add Stop</button>
        </div>

        <div id="stopsContainer" class="stops-container">
            <p>Select a trip to start building itinerary.</p>
        </div>

        <button onclick="saveCurrentItinerary()">Save Itinerary</button>
    </div>

    <!-- SCRIPT (UNCHANGED LOGIC) -->
    <script>
        let trips = JSON.parse(localStorage.getItem('trips')) || [];
        let currentTripId = null;
        let currentStops = [];

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            if (sectionId === 'itinerary-builder') loadCurrentTripItinerary();
            else renderTrips();
        }

        function saveTrips() {
            localStorage.setItem('trips', JSON.stringify(trips));
        }

        function addTrip() {
            const name = tripName.value;
            const startDate = startDate.value;
            const endDate = endDate.value;
            const destCount = parseInt(destCount.value);
            if (name && startDate && endDate && destCount) {
                trips.push({ id: Date.now(), name, startDate, endDate, destinationCount: destCount, stops: [] });
                saveTrips();
                renderTrips();
            }
        }

        function renderTrips() {
            tripsList.innerHTML = trips.map(trip => `
                <div class="trip-card ${currentTripId === trip.id ? 'selected' : ''}" onclick="selectTrip(${trip.id})">
                    <h3>${trip.name}</h3>
                    <p>${trip.startDate} to ${trip.endDate}</p>
                </div>
            `).join('');
        }

        function selectTrip(id) {
            currentTripId = id;
            renderTrips();
            loadCurrentTripItinerary();
        }

        function addStopToCurrentTrip() {
            if (!currentTripId) return alert("Select a trip first");
            currentStops.push({
                city: cityName.value,
                startDate: stopStart.value,
                endDate: stopEnd.value,
                activities: []
            });
            renderStops();
        }

        function renderStops() {
            stopsContainer.innerHTML = currentStops.map(stop => `
                <div class="stop">
                    <div>
                        <div class="stop-header">${stop.city}</div>
                        <div class="stop-dates">${stop.startDate} ‚Üí ${stop.endDate}</div>
                    </div>
                    ‚ò∞
                </div>
            `).join('');
        }

        function loadCurrentTripItinerary() {
            if (!currentTripId) return;
            const trip = trips.find(t => t.id === currentTripId);
            currentStops = trip.stops || [];
            renderStops();
        }

        function saveCurrentItinerary() {
            const trip = trips.find(t => t.id === currentTripId);
            trip.stops = currentStops;
            saveTrips();
            alert("Itinerary saved!");
        }

        renderTrips();
    </script>

</body>
</html>
